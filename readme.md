# Інструкції для роботи з проєктом

## Робота з додатком без застосування Docker

1. Змінити на сервері у папці `config` адреси хостів у кофігураційних файлах для БД MongoDB та Postgres з `db-dev` на `localhost`.

2. За необхідності в терміналах у папках `/client` та `/server` виконати команду `npm install` для встановлення залежностей для клієнтської та серверної частини додатку.

3. Зайти у папку сервера через термінал та виконати команди, необхідні для створення БД PostgreSQL:

- `npx sequelize db:create`
- `npx sequelize db:migrate`
- `npx sequelize db:seed:all`

4. Запустити у окремих терміналах клієнтську та серверну частини, виконуючи команду `npm start` в терміналах у папках `/client` та `/server`

## Робота з контейнеризованою версією додатка при встановленому Docker (не налаштована)

1. У корні проєкту запустити файл `start-dev.sh`. Якщо у вас немає прав на запуск файлу то додати їх командою `chmod a+x start-dev.sh`

2. У терміналі після побудови всіх образів та підняття всіх контейнерів у консолі будуть одночасно виводитися дані з усіх 4 контейнерів, з яких складається проєкт.

3. Щоб зупинити всі контейнери одночасно у терміналі, у якому відбувався запуск `start-dev.sh` прервати його роботу через комбінацію клавіш `Ctrl + C`.

# Додаткові дані по проєкту

Під час роботи з додатком буде необхідно використовувати наступні дані:

1. Дані про банківські картки для оплати контестів / виводу винагороди за контести:

- **Номер картки:** 4111 1111 1111 1111
- **Дата кінця дії картки:** 09/26
- **CVC код:** 505

2. Дані акаунтів користувачів (створених по замовчуванню)

**role**: CUSTOMER  
**firstName**: buyer  
**lastName**: buyer  
**email**: buyer@gmail.com  
**password**: buyer@gmail.com

**role**: CREATOR  
**firstName**: creative  
**lastName**: creative  
**email**: creative@gmail.com  
**password**: creative@gmail.com

**role**: MODERATOR  
**firstName**: moderator  
**lastName**: moderator  
**email**: moderator@gmail.com  
**password**: moderator@gmail.com

# Гілки основних завдань

Деякі гілки особливо "bug-fix-and-refactor" під час своєї реалізації могли частково змінювати код інших гілок тому краще звірятись з фінальною версією.

- Завдання 7-11 знаходяться у теці `server/src/dbTasks`

main - гілка з працюючим кодом  
dev - гілка з кодом у розробці

1-3. bug-fix-and-refactor  
4. add-how-it-works-page  
5. add-events  
6. add-button-group  
7. add-sql-task-7  
8. add-sql-task-8  
9. add-sql-task-9  
10. add-sql-task-10  
11. add-sql-task-11  
12. create-error-logger  
13. create-updated-error-logger  
14. add-moderator  
15. cahnge-no-sql-to-sql

(після основних теж) bug-fix-and-refactor

# Додаткова інформація до завдань

Завдання виконувались без використання докеру, на операційній системі Windows.
Файли докера не налаштовані і тому не рекомендовані до використання.

## Ролі користувачів

В проєкті є 3 ролі користувачів: CUSTOMER, CREATOR, MODERATOR

MODERATOR створюється через сід

## Особливості елементів інтерфейсів користувачів:

- Чат доступний ролям: CUSTOMER, CREATOR
- Події доступні ролі: CUSTOMER
- CUSTOMER та MODERATOR мають спеціальні кнопки в заголовку сайту
- MODERATOR має власну сторінку для розгляду оферів, але не може зайти на сторінку всіх оферів
- CUSTOMER може створювати та змінювати свої контести і має для цього всій набір сторінок.
- CUSTOMER та CREATOR мають різні фільтри та розташування іконок чатів для зворотнього зв'язку.
- CUSTOMER бачить рейтинг CREATOR-ів і може оцінювати їх офери змінюючи ці рейтинг

## Зміни, зроблені на власний розсуд

1. При редагуванні акаунту відображається поточний аватар (як і поточне зображення оферу перед відправкою)
2. Для імен користувача встановлено валідаційне обмеження
3. У Creator-а за замовченням відображаються лише активні контести. Він може побачити закінчені при умовах:

- якщо він писав офер у закінченому контесті він може переглянути його серед "My Offers"
- якщо його цікавить якийсь певний закінчений контест він зможе його знайти за id цього контесту

4. Було відредаговані та змінені деякі стилі (чату, кнопок фільтрів, аватара на сторінці акаунту, тощо)
5. На формі створення/редагування контесту було створено кнопку очищення поточного файлу
6. Якщо модератор намагатиметься розглянути офер стан якого за якихось причин вже було змінено, модератора про це сповістить спливаюче вікно, та перезавантажить офери для нього
7. Полагоджені деякі елементи та функціонали (гарне відображення картки, оновлення файлу, тощо)
8. Деякі компоненти були переміщені задля меншого нагромадження і більшої структурованості
9. Константи як і деякі інші файли були переписані задля легшого читання та доступу до змінних
10. До певних відповідей серверу додані статуси для більшої інформативності
11. Шляхи переписані в kebab-case
12. Компоненти вищого порядку були перейменовані та винесені з теки компонентів до власної теки
13. Функціонал очищення івентів: одного при наведені і всіх на відповідну кнопку
14. В інформації про контест відображаються статуси оферів та їх кількість
15. До деяких власних функцій написано JS DOC
